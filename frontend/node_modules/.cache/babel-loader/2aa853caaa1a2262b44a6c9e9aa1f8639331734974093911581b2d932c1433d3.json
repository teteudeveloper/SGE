{"ast":null,"code":"import api from'./api';const authService={login:async(email,senha)=>{const response=await api.post('/auth/login',{email,senha});if(response.data.token){localStorage.setItem('token',response.data.token);localStorage.setItem('user',JSON.stringify(response.data));}return response.data;},logout:()=>{localStorage.removeItem('token');localStorage.removeItem('user');},getCurrentUser:()=>{const userStr=localStorage.getItem('user');if(userStr)return JSON.parse(userStr);return null;},isAuthenticated:()=>{return!!localStorage.getItem('token');},hasRole:role=>{const user=authService.getCurrentUser();return user&&user.perfil===role;},hasAnyRole:roles=>{const user=authService.getCurrentUser();return user&&roles.includes(user.perfil);}};export default authService;","map":{"version":3,"names":["api","authService","login","email","senha","response","post","data","token","localStorage","setItem","JSON","stringify","logout","removeItem","getCurrentUser","userStr","getItem","parse","isAuthenticated","hasRole","role","user","perfil","hasAnyRole","roles","includes"],"sources":["/home/teteu/Downloads/trabalho/sge/frontend/src/services/authService.js"],"sourcesContent":["import api from './api';\n\nconst authService = {\n  login: async (email, senha) => {\n    const response = await api.post('/auth/login', { email, senha });\n\n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data));\n    }\n    return response.data;\n  },\n  logout: () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  },\n\n  getCurrentUser: () => {\n    const userStr = localStorage.getItem('user');\n    if (userStr) return JSON.parse(userStr);\n    return null;\n  },\n\n  isAuthenticated: () => {\n    return !!localStorage.getItem('token');\n  },\n\n  hasRole: (role) => {\n    const user = authService.getCurrentUser();\n    return user && user.perfil === role;\n  },\n\n  hasAnyRole: (roles) => {\n    const user = authService.getCurrentUser();\n    return user && roles.includes(user.perfil);\n  },\n};\n\nexport default authService;"],"mappings":"AAAA,MAAO,CAAAA,GAAG,KAAM,OAAO,CAEvB,KAAM,CAAAC,WAAW,CAAG,CAClBC,KAAK,CAAE,KAAAA,CAAOC,KAAK,CAAEC,KAAK,GAAK,CAC7B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAC,aAAa,CAAE,CAAEH,KAAK,CAAEC,KAAM,CAAC,CAAC,CAEhE,GAAIC,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAE,CACvBC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC,CAClDC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAAC,CAAC,CAC7D,CACA,MAAO,CAAAF,QAAQ,CAACE,IAAI,CACtB,CAAC,CACDM,MAAM,CAAEA,CAAA,GAAM,CACZJ,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC,CAChCL,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC,CACjC,CAAC,CAEDC,cAAc,CAAEA,CAAA,GAAM,CACpB,KAAM,CAAAC,OAAO,CAAGP,YAAY,CAACQ,OAAO,CAAC,MAAM,CAAC,CAC5C,GAAID,OAAO,CAAE,MAAO,CAAAL,IAAI,CAACO,KAAK,CAACF,OAAO,CAAC,CACvC,MAAO,KAAI,CACb,CAAC,CAEDG,eAAe,CAAEA,CAAA,GAAM,CACrB,MAAO,CAAC,CAACV,YAAY,CAACQ,OAAO,CAAC,OAAO,CAAC,CACxC,CAAC,CAEDG,OAAO,CAAGC,IAAI,EAAK,CACjB,KAAM,CAAAC,IAAI,CAAGrB,WAAW,CAACc,cAAc,CAAC,CAAC,CACzC,MAAO,CAAAO,IAAI,EAAIA,IAAI,CAACC,MAAM,GAAKF,IAAI,CACrC,CAAC,CAEDG,UAAU,CAAGC,KAAK,EAAK,CACrB,KAAM,CAAAH,IAAI,CAAGrB,WAAW,CAACc,cAAc,CAAC,CAAC,CACzC,MAAO,CAAAO,IAAI,EAAIG,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACC,MAAM,CAAC,CAC5C,CACF,CAAC,CAED,cAAe,CAAAtB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}